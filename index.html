<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ห้างหุ้นส่วนจำกัด โชคศิลา (กรุงเทพฯ) รถแม็คโครรับจ้าง กรุงเทพ และปริมณฑล</title>
<meta name="description" content="หจก.โชคศิลา (กรุงเทพฯ) รถแม็คโครรับจ้าง 24 ชั่วโมง ขุดดิน ถมดิน ปรับพื้นที่ กรุงเทพ มีรถแม็คโคร 2 คัน รถ 6 ล้อ 1 คัน">
<meta name="keywords" content="รถแม็คโครรับจ้าง, ขุดดิน, ถมดิน, รถแม็คโคร กรุงเทพ, รถขุด 24 ชั่วโมง">

<!-- Google Analytics (ใส่ Tracking ID ของคุณแทน G-XXXX) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXX"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);} 
gtag('js', new Date());
gtag('config', 'G-XXXX');
</script>

<style>
body{margin:0;font-family:tahoma;background:#0d0d0d;color:white}
nav{background:#111;padding:15px;position:sticky;top:0;z-index:999}
nav a{color:white;margin:15px;text-decoration:none;font-weight:bold;cursor:pointer}
nav a:hover{color:#00ffc3}
section{padding:60px 20px;display:none}
.active{display:block}
.header{text-align:center;padding:120px 20px;background:linear-gradient(45deg,#000428,#004e92)}
.card{background:#1a1a1a;padding:20px;margin:15px 0;border-radius:10px}
button{background:#ff0033;color:white;border:none;padding:10px 20px;border-radius:6px;cursor:pointer}
button:hover{background:#00ffc3;color:black}
input,textarea{width:100%;padding:10px;margin:10px 0;border:none;border-radius:5px}
img{max-width:100%;border-radius:10px;margin-top:10px}
.gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px}
</style>
</head>

<body>

<nav>
<a onclick="showPage('home')">หน้าแรก</a>
<a onclick="showPage('portfolio')">ผลงาน</a>
<a onclick="showPage('pricing')">ราคา</a>
<a onclick="showPage('quote')">ใบเสนอราคา</a>
<a onclick="showPage('contact')">ติดต่อ</a>
<a onclick="showPage('admin')">แอดมิน</a>
</nav>

<section id="home" class="active">
<div class="header">
<h1>ห้างหุ้นส่วนจำกัด โชคศิลา (กรุงเทพฯ)</h1>
<p>รถแม็คโครรับจ้าง 24 ชั่วโมง กรุงเทพ และปริมณฑล</p>
</div>

<div class="card">
<h2>ข้อมูลห้างหุ้นส่วนจำกัด</h2>
<p>มีรถแม็คโคร 2 คัน และรถ 6 ล้อ 1 คัน ให้บริการขุดดิน ถมดิน ปรับพื้นที่ งานก่อสร้างทุกประเภท</p>
</div>
</section>

<section id="portfolio" class="py-16 bg-emerald-400">
  <div class="max-w-6xl mx-auto px-4">
    <h2 class="text-3xl font-bold text-center mb-8">ผลงานของเรา</h2>

    <!-- Login Admin -->
    <div id="adminLogin" class="bg-emerald-500 p-6 rounded-2xl shadow-lg mb-10">
      <h3 class="text-xl mb-4">Admin Login</h3>
      <input id="email" placeholder="Email" class="w-full p-2 mb-2 bg-slate-800 rounded" />
      <input id="password" type="password" placeholder="Password" class="w-full p-2 mb-2 bg-slate-800 rounded" />
      <button onclick="loginAdmin()" class="bg-red-600 px-6 py-2 rounded">เข้าสู่ระบบ</button>
    </div>

    <!-- Form เพิ่มผลงาน -->
    <div id="adminPanel" class="bg-emerald-500 p-6 rounded-2xl shadow-lg mb-10 hidden">
      <h3 class="text-xl mb-4">เพิ่มผลงาน</h3>
      <input id="postTitle" class="w-full p-2 mb-2 rounded bg-slate-800" placeholder="ชื่อผลงาน" />
      <textarea id="postDetail" class="w-full p-2 mb-2 rounded bg-slate-800" placeholder="รายละเอียด"></textarea>
      <input id="postPrice" class="w-full p-2 mb-2 rounded bg-slate-800" placeholder="เริ่มต้น xxx บาท" />
      <select id="postCategory" class="w-full p-2 mb-2 bg-slate-800 rounded">
        <option>งานขุดดิน</option>
        <option>งานรื้อถอน</option>
        <option>งานปรับพื้นที่</option>
      </select>
      <input type="file" id="postImage" class="mb-3" />
      <button onclick="addPost()" class="bg-red-600 px-6 py-2 rounded">โพสต์ผลงาน</button>
    </div>

    <!-- Gallery -->
    <div id="portfolioList" class="grid md:grid-cols-3 gap-6"></div>
  </div>
</section>

<!-- Modal ดูรายละเอียด -->
<div id="detailModal" class="fixed inset-0 bg-emerald-500 bg-opacity-80 hidden items-center justify-center">
  <div class="bg-emerald-400 p-6 rounded-2xl max-w-lg">
    <img id="modalImage" class="mb-4 rounded" />
    <h3 id="modalTitle" class="text-xl font-bold"></h3>
    <p id="modalDetail" class="mb-2"></p>
    <p id="modalPrice" class="text-red-500 font-bold"></p>
    <button onclick="closeModal()" class="mt-4 bg-red-600 px-4 py-2 rounded">ปิด</button>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>

<script>
const firebaseConfig = {
  apiKey: "YOUR_KEY",
  authDomain: "YOUR_DOMAIN",
  projectId: "YOUR_PROJECT",
  storageBucket: "YOUR_BUCKET",
};
firebase.initializeApp(firebaseConfig);

const db = firebase.firestore();
const storage = firebase.storage();
const auth = firebase.auth();

function loginAdmin() {
  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;

  auth.signInWithEmailAndPassword(email, password)
    .then(() => {
      document.getElementById('adminPanel').classList.remove('hidden');
      document.getElementById('adminLogin').classList.add('hidden');
    });
}

function addPost() {
  const file = document.getElementById('postImage').files[0];
  const title = postTitle.value;
  const detail = postDetail.value;
  const price = postPrice.value;
  const category = postCategory.value;

  const ref = storage.ref().child(file.name);
  ref.put(file).then(() => {
    ref.getDownloadURL().then(url => {
      db.collection('portfolio').add({
        title, detail, price, category, image: url, order: Date.now()
      });
    });
  });
}

function loadPosts() {
  db.collection('portfolio').orderBy('order').onSnapshot(snapshot => {
    const list = document.getElementById('portfolioList');
    list.innerHTML = '';

    snapshot.forEach(doc => {
      const post = doc.data();

      list.innerHTML += `
        <div class="bg-emerald-500 rounded-2xl shadow-lg cursor-pointer" onclick="openModal('${post.image}','${post.title}','${post.detail}','${post.price}')">
          <div class="relative">
            <img src="${post.image}" class="w-full h-48 object-cover rounded-t-2xl" />
            <span class="absolute top-2 right-2 bg-red-600 px-2 py-1 text-sm rounded">${post.price}</span>
          </div>
          <div class="p-4">
            <h3 class="font-bold">${post.title}</h3>
            <p class="text-sm text-gray-300">${post.category}</p>
          </div>
        </div>
      `;
    });

    new Sortable(list, {
      animation: 150,
      onEnd: function () {
        [...list.children].forEach((el, index) => {
          const id = snapshot.docs[index].id;
          db.collection('portfolio').doc(id).update({ order: index });
        });
      }
    });
  });
}

function openModal(img, title, detail, price) {
  modalImage.src = img;
  modalTitle.innerText = title;
  modalDetail.innerText = detail;
  modalPrice.innerText = price;
  detailModal.classList.remove('hidden');
}

function closeModal() {
  detailModal.classList.add('hidden');
}

loadPosts();
</script>

<section id="pricing">
<h2>ราคาโดยประมาณ</h2>
<div class="card">
<p>รถแม็คโคร เริ่มต้น 1,500 - 3,500 บาท/ชั่วโมง</p>
<p>รถ 6 ล้อ ขนดิน เริ่มต้น 800 - 1,500 บาท/เที่ยว</p>
<p>* ราคาขึ้นอยู่กับหน้างาน *</p>
</div>
</section>

<section id="quote">
<h2>ขอใบเสนอราคา</h2>
<form onsubmit="sendQuote(event)">
<input id="name" placeholder="ชื่อ" required>
<input id="phone" placeholder="เบอร์โทร" required>
<textarea id="detail" placeholder="รายละเอียดงาน"></textarea>
<label>แนบรูปพื้นที่งาน</label>
<input type="file" id="fileUpload" accept="image/*">
<button type="submit">ส่งข้อมูล</button>
</form>
</section>

<section id="contact">
<h2>ติดต่อเรา</h2>
<div class="card">
<a href="https://line.me/ti/p/V7c6WQGFCE">LINE</a><br>
<a href="https://www.facebook.com/share/1K68VtPniM/">Facebook</a><br>
<a href="https://www.tiktok.com/@game_9046?is_from_webapp=1&sender_device=pc">TikTok</a><br>
<a href="tel:098-154-8460">โทรศัพท์</a><br>
<a href="chinnkrphaypad172@gmail.com">Gmail</a>
</div>

<iframe width="100%" height="300" style="border:0" loading="lazy" src="https://maps.google.com/maps?q=https://share.google/SGSpK7oxruYSbFAQ8"></iframe>
</section>

<section id="admin">
<h2>ระบบแอดมิน</h2>
<input type="password" id="adminPass" placeholder="รหัสผ่าน">
<button onclick="loginAdmin()">เข้าสู่ระบบ</button>

<div id="adminPanel" style="display:none">
<h3>อัปโหลดผลงาน</h3>
<input type="file" accept="image/*" onchange="uploadPortfolio(event)">
</div>
</section>

<script>

function showPage(page){
document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
document.getElementById(page).classList.add('active');
}

function loginAdmin(){
let pass=document.getElementById('adminPass').value;
if(pass==='choksila1234'){ 
 document.getElementById('adminPanel').style.display='block';
 alert('เข้าสู่ระบบสำเร็จ');
}
else alert('รหัสผ่านผิด');
}

function uploadPortfolio(e){
let file=e.target.files[0];
let reader=new FileReader();
reader.onload=function(){
let img=document.createElement('img');
img.src=reader.result;
document.getElementById('gallery').appendChild(img);
localStorage.setItem('gallery',document.getElementById('gallery').innerHTML);
}
reader.readAsDataURL(file);
}

function loadGallery(){
let data=localStorage.getItem('gallery');
if(data) document.getElementById('gallery').innerHTML=data;
}
loadGallery();

function sendQuote(e){
e.preventDefault();
let name=document.getElementById('name').value;
let phone=document.getElementById('phone').value;
let detail=document.getElementById('detail').value;

let msg=`ขอใบเสนอราคา %0A ชื่อ:${name} %0A เบอร์:${phone} %0A รายละเอียด:${detail}`;

window.open(`https://line.me/R/msg/text/?${msg}`);
window.location=`mailto:example@email.com?subject=ขอใบเสนอราคา&body=${msg}`;
}

</script>

</body>
</html>
